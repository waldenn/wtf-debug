!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).wtfHtml=n()}(this,(function(){"use strict";var t={title:!0,infoboxes:!0,headers:!0,sections:!0,links:!0},n=function(n){n=Object.assign({},t,n);var e,a,i=this.data,s="";return!0===n.title&&i.title&&(s+="<title>"+i.title+"</title>\n"),!0===this.isRedirect()?s+=(e=this.redirectTo(),a="./"+(a=e.page).replace(/ /g,"_"),e.anchor&&(a+="#"+e.anchor),'  <div class="redirect">\n  ↳ <a class="link" href="./'.concat(a,'">').concat(e.text,"</a>\n  </div>")):(!0===n.infoboxes&&(s+=this.infoboxes().map((function(t){return t.html(n)})).join("\n")),!0!==n.sections&&!0!==n.paragraphs&&!0!==n.sentences||(s+=i.sections.map((function(t){return t.html(n)})).join("\n")),!0===n.references&&(s+="<h2>References</h2>",s+=this.references().map((function(t){return t.html(n)})).join("\n")),s)},e={headers:!0,images:!0,tables:!0,lists:!0,paragraphs:!0},a=function(t){t=Object.assign({},e,t);var n="";if(!0===t.headers&&this.title()){var a=1+this.depth;n+="  <h"+a+">"+this.title()+"</h"+a+">",n+="\n"}if(!0===t.images){var i=this.images();i.length>0&&(n+=i.map((function(n){return n.html(t)})).join("\n"))}return!0===t.tables&&(n+=this.tables().map((function(n){return n.html(t)})).join("\n")),!0===t.lists&&(n+=this.lists().map((function(n){return n.html(t)})).join("\n")),!0===t.paragraphs&&this.paragraphs().length>0?(n+='  <div class="text">\n',this.paragraphs().forEach((function(e){n+='    <p class="paragraph">\n',n+="      "+e.sentences().map((function(n){return n.html(t)})).join(" "),n+="\n    </p>\n"})),n+="  </div>\n"):!0===t.sentences&&(n+="      "+this.sentences().map((function(n){return n.html(t)})).join(" ")),'<div class="section">\n'+n+"</div>\n"},i={sentences:!0},s=function(t){var n="";return!0===(t=Object.assign({},i,t)).sentences&&(n+=this.sentences().map((function(n){return n.html(t)})).join("\n")),n};var r=function(t,n,e){if(!n||!t)return t;"number"==typeof t&&(t=String(t)),n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a=new RegExp("\\b"+n+"\\b");return t=!0===a.test(t)?t.replace(a,e):t.replace(n,e)},c={links:!0,formatting:!0},o=function(t){t=Object.assign({},c,t);var n=this.text();return!0===t.links&&this.links().forEach((function(t){var e=t.text()||t.page(),a=t.html();n=r(n,e,a)})),!0===t.formatting&&(this.bold().forEach((function(t){n=r(n,t,"<b>"+t+"</b>")})),this.italic().forEach((function(t){n=r(n,t,"<i>"+t+"</i>")}))),'<span class="sentence">'+n+"</span>"},h=function(){var t=this.href();t=t.replace(/ /g,"_");var n=this.text()||this.page();return'<a class="'.concat("link",'" href="').concat(t,'">').concat(n,"</a>")},l={images:!0},f={image:!0,caption:!0,alt:!0,signature:!0,"signature alt":!0},d=function(t){var n=this;t=Object.assign({},l,t);var e='<table class="infobox">\n';if(e+="  <thead>\n",e+="  </thead>\n",e+="  <tbody>\n",!0===t.images&&this.data.image){if(e+="    <tr>\n",e+='       <td colspan="2" style="text-align:center">\n',e+="       "+this.image().html()+"\n",e+="       </td>\n",this.data.caption||this.data.alt){var a=this.data.caption?this.data.caption.html(t):this.data.alt.html(t);e+='       <td colspan="2" style="text-align:center">\n',e+="         "+a+"\n",e+="       </td>\n"}e+="    </tr>\n"}return Object.keys(this.data).forEach((function(a){if(!0!==f[a]){var i=n.data[a],s=a.replace(/_/g," ");s=s.charAt(0).toUpperCase()+s.substring(1);var r=i.html(t);e+="    <tr>\n",e+="      <td>"+s+"</td>\n",e+="      <td>"+r+"</td>\n",e+="    </tr>\n"}})),e+="  </tbody>\n",e+="</table>\n"},p=function(){return'  <img src="'+this.thumbnail()+'" alt="'+this.alt()+'"/>'},u=function(t){var n='  <ul class="list">\n';return this.lines().forEach((function(e){n+="    <li>"+e.html(t)+"</li>\n"})),n+="  </ul>\n"},m=function(t){if(this.data&&this.data.url&&this.data.title){var n=this.data.title;return!0===t.links&&(n='<a href="'.concat(this.data.url,'">').concat(n,"</a>")),'<div class="reference">⌃ '.concat(n," </div>")}if(this.data.encyclopedia)return'<div class="reference">⌃ '.concat(this.data.encyclopedia,"</div>");if(this.data.title){var e=this.data.title;return this.data.author&&(e+=this.data.author),this.data.first&&this.data.last&&(e+=this.data.first+" "+this.data.last),'<div class="reference">⌃ '.concat(e,"</div>")}return this.inline?'<div class="reference">⌃ '.concat(this.inline.html(),"</div>"):""},g=function(t){var n=this.data,e='<table class="table">\n';return e+="  <thead>\n",e+="  <tr>\n",Object.keys(n[0]).forEach((function(t){!0!==/^col[0-9]/.test(t)&&(e+="    <td>"+t+"</td>\n")})),e+="  </tr>\n",e+="  </thead>\n",e+="  <tbody>\n",n.forEach((function(n){e+="  <tr>\n",Object.keys(n).forEach((function(a){var i=n[a].html(t);e+="    <td>"+i+"</td>\n"})),e+="  </tr>\n"})),e+="  </tbody>\n",e+="</table>\n"};return function(t){t.Doc.prototype.html=n,t.Section.prototype.html=a,t.Paragraph.prototype.html=s,t.Sentence.prototype.html=o,t.Image.prototype.html=p,t.Infobox.prototype.html=d,t.Link.prototype.html=h,t.List.prototype.html=u,t.Reference.prototype.html=m,t.Table.prototype.html=g}}));
